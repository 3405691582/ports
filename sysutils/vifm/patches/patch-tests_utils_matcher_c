Work around weird mime-type of directories.

Index: tests/utils/matcher.c
--- tests/utils/matcher.c.orig
+++ tests/utils/matcher.c
@@ -4,6 +4,7 @@
 
 #include <stdio.h> /* remove() */
 #include <stdlib.h> /* free() */
+#include <string.h> /* strcmp() */
 
 #include <test-utils.h>
 
@@ -463,7 +464,9 @@ has_mime_type_detection(void)
 static int
 has_mime_type_detection_and_not_windows(void)
 {
-	return has_mime_type_detection() && not_windows();
+	return has_mime_type_detection()
+	    && not_windows()
+	    && strcmp(get_mimetype(TEST_DATA_PATH, 0), "inode/directory") == 0;
 }
 
 /* vim: set tabstop=2 softtabstop=2 shiftwidth=2 noexpandtab cinoptions-=(0 : */
