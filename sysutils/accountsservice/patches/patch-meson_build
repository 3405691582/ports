Index: meson.build
--- meson.build.orig
+++ meson.build
@@ -101,7 +101,7 @@ elif cc.has_header_symbol('paths.h', '_PATH_WTMPX')
 
   config_h.set('PATH_WTMP', '_PATH_WTMPX')
 else
-  path_wtmp = '/var/log/utx.log'
+  path_wtmp = '/var/log/wtmp'
   assert(run_command('test', '-e', path_wtmp).returncode() == 0, 'Do not know which filename to watch for wtmp changes')
   config_h.set_quoted('PATH_WTMP', path_wtmp)
 endif
@@ -145,6 +145,7 @@ gio_dep = dependency('gio-2.0', version: '>= ' + glib_
 gio_unix_dep = dependency('gio-unix-2.0')
 glib_dep = dependency('glib-2.0', version: '>= ' + glib_min_version)
 polkit_gobject_dep = dependency('polkit-gobject-1')
+libconsolekit_dep = dependency('libconsolekit')
 
 # Using libxcrypt >= 4 we can be sure `crypt_gensalt (NULL, 0, NULL, 0)`
 # always returns a setting that is valid to use with `crypt (pw, setting)`.
@@ -207,11 +208,7 @@ config_h.set('MINIMUM_UID', get_option('minimum_uid'))
 gdm_conf_file = get_option('gdmconffile')
 config_h.set_quoted('PATH_GDM_CUSTOM', gdm_conf_file)
 
-if get_option('elogind')
-  logind_dep = dependency('libelogind', version: '>= 229.4')
-else
-  logind_dep = dependency('libsystemd', version: '>= 186')
-endif
+logind_dep = []
 
 subdir('data')
 subdir('src')
