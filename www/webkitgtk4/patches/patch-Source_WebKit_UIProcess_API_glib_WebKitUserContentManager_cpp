From: Michael Catanzaro <mcatanzaro@redhat.com>
Date: Fri, 17 Mar 2023 15:19:34 -0700
Subject: [PATCH] REGRESSION(261320@main): [GLib] Broke
 WebKitUserContentManager::script-message-received
 https://bugs.webkit.org/show_bug.cgi?id=254089

Index: Source/WebKit/UIProcess/API/glib/WebKitUserContentManager.cpp
--- Source/WebKit/UIProcess/API/glib/WebKitUserContentManager.cpp.orig
+++ Source/WebKit/UIProcess/API/glib/WebKitUserContentManager.cpp
@@ -106,7 +106,11 @@ static void webkit_user_content_manager_class_init(Web
             G_TYPE_FROM_CLASS(gObjectClass),
             static_cast<GSignalFlags>(G_SIGNAL_RUN_LAST | G_SIGNAL_DETAILED),
             0, nullptr, nullptr,
+#if ENABLE(2022_GLIB_API)
+            g_cclosure_marshal_VOID__OBJECT,
+#else
             g_cclosure_marshal_VOID__BOXED,
+#endif
             G_TYPE_NONE, 1,
 #if ENABLE(2022_GLIB_API)
             JSC_TYPE_VALUE);
