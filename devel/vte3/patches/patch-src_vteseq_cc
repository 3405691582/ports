From 854e56263454077ab009aaff67f1afe0dbd52878 Mon Sep 17 00:00:00 2001
From: Christian Persch <chpe@src.gnome.org>
Date: Thu, 1 Jun 2023 21:30:48 +0200
Subject: [PATCH] emulation: Fix infinite loop on non-number OSC 104 param

Index: src/vteseq.cc
--- src/vteseq.cc.orig
+++ src/vteseq.cc
@@ -1509,8 +1509,10 @@ Terminal::reset_color(vte::parser::Sequence const& seq
 
         while (token != endtoken) {
                 int value;
-                if (!token.number(value))
+                if (!token.number(value)) {
+                        ++token;
                         continue;
+                }
 
                 int index;
                 if (get_osc_color_index(osc, value, index) &&
