From f9ac8890d0a714c7cb44005def66fb5d0d15f6e4 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Florian=20M=C3=BCllner?= <fmuellner@gnome.org>
Date: Sun, 6 Nov 2022 11:56:41 +0100
Subject: [PATCH] dbusService/screencast: Hold during gstreamer checks

Index: js/dbusServices/screencast/screencastService.js
--- js/dbusServices/screencast/screencastService.js.orig
+++ js/dbusServices/screencast/screencastService.js
@@ -271,10 +271,13 @@ var ScreencastService = class extends ServiceImplement
     constructor() {
         super(ScreencastIface, '/org/gnome/Shell/Screencast');
 
+        this.hold(); // gstreamer initializing can take a bit
         this._canScreencast = ScreencastService.canScreencast();
 
         Gst.init(null);
         Gtk.init();
+
+        this.release();
 
         this._recorders = new Map();
         this._senders = new Map();
